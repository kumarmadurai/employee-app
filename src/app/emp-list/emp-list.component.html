<div class="emps">
    <section *ngFor="let emp of emp$ | async;let i = index">
        <mat-card style="position: relative;">
            <div style="position: absolute; right: 20px">
                <button mat-icon-button>
                    <mat-icon (click)="enableEdit(emp, i)">edit</mat-icon>
                </button>
            </div>
            <div *ngIf="i !== selectedIndex;">
                <h1> {{emp.name}} </h1>
                <h2> {{ emp.email}} </h2>
                <h3> {{ emp.type}} </h3>
                <h4> {{ emp.description}} </h4>
            </div>
            <form class="example-form" *ngIf="i === selectedIndex;">
                <mat-form-field class="example-full-width">
                    <mat-label>Employee name</mat-label>
                    <input name='name' [(ngModel)]="name" matInput>
                </mat-form-field>
    
                <mat-form-field class="example-full-width">
                    <mat-label>Employee email</mat-label>
                    <input name='email' [(ngModel)]="email" type='email' matInput>
                </mat-form-field>
    
                <mat-form-field class="example-full-width">
                    <mat-label>Device type</mat-label>
                    <input name='type' [(ngModel)]="type" type='text' matInput>
                </mat-form-field>
                <mat-form-field class="example-full-width">
                    <mat-label>Description</mat-label>
                    <textarea name='description' [(ngModel)]="description" matInput></textarea>
                </mat-form-field>
            </form>
            <mat-card-actions>
                <button mat-button (click)="deleteEmp(emp.id)">Delete</button>
                <button mat-button *ngIf="i === selectedIndex" (click)="update(emp)">Update</button>
                <button mat-button *ngIf="i === selectedIndex" (click)="cancelEdit()">Cancel</button>
                <button mat-button routerLink='/{{emp.id}}'>Details</button>
            </mat-card-actions>
        </mat-card>
    </section>
</div>

